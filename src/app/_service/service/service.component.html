<nav class="vc-navbar">
    <img src="assets/imgs/logo.svg" class="vc-logo">
    <div class="right-section">
        <div class="nav-section">
            <div class="avatar vc-dropdown-container">
                <span (click)="showDropdown($event)">D</span>
                <div class="vc-dropdown">
                    <div class="dropdown-group">
                        <div class="title-item">
                            <span>nguyendhn@vng.com.vn</span>
                        </div>
                    </div>
                    <div class="dropdown-group">
                        <div class="menu-item">
                            <svg class="vcicon icon-logout">
                                <use xlink:href="assets/vcicon/icons.svg#icon-logout"></use>
                            </svg>
                            <span>Log out</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>

<div class="navbar-content">
    <div class="vc-left-menu">
        <div class="header">
            <div class="page-logo">
                <img src="assets/imgs/on-call-logo.svg" class=logo>
            </div>
            <div class="page-title">
                <div class="breadcrumb">Home</div>
                <div class="service-name">On-call Escalation</div>
            </div>
            <div class="toggle-icon">
                <svg class="vcicon icon-menu-icon-close">
                    <use xlink:href="assets/vcicon/icons.svg#icon-menu-icon-close"></use>
                </svg>
            </div>
        </div>
        <div class="item-group">
            <a class="item">
                <svg class="vcicon icon-home">
                    <use xlink:href="assets/vcicon/icons.svg#icon-home"></use>
                </svg>
                <span>Overview</span>
            </a>
            <a class="item" href="incident">
                <svg class="vcicon icon-incident">
                    <use xlink:href="assets/vcicon/icons.svg#icon-incident"></use>
                </svg>
                <span>Incident</span>
            </a>
            <a class="item active" href="service">
                <svg class="vcicon icon-service">
                    <use xlink:href="assets/vcicon/icons.svg#icon-service"></use>
                </svg>
                <span>Service</span>
            </a>
            <a class="item" href="escalation">
                <svg class="vcicon icon-escalation-policy">
                    <use xlink:href="assets/vcicon/icons.svg#icon-escalation-policy"></use>
                </svg>
                <span>Escalation policy</span>
            </a>
        </div>
    </div>
    <div class="main-content with-leftmenu">
        <div class="vc-base-bar">
            <div class="main-bar">
                <div class="page-header">
                    <div class="page-title">Service</div>
                </div>
            </div>
            <div class="action-bar">
                <div class="left-section">
                    <div class="action-group">
                        <div class="vc-input-with-subfix" style="width: 250px">
                            <input type="text" placeholder="Search services" aria-label="search-services">
                            <span class="subfix">
                                <svg class="vcicon icon-search">
                                    <use xlink:href="assets/vcicon/icons.svg#icon-search"></use>
                                </svg>
                            </span>
                        </div>
                    </div>
                    <div class="action-group">
                        <button type="button" (click)="CreateService()"class="btn btn-default create" >
                            <svg class="vcicon icon-create-service">
                                <use xlink:href="assets/vcicon/icons.svg#icon-create-service"></use>
                            </svg>
                            <span>Create a Service</span>
                        </button>
                    </div>
                </div>
                <div class="right-section icon-btn-rightmost">
                    <div class="action-group btn-group">
                        <button type="button" class="btn icon-btn default" data-title="Reload services" data-title-left>
                            <svg class="vcicon icon-reload">
                                <use xlink:href="assets/vcicon/icons.svg#icon-reload"></use>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="standard-content small-padding-top">

            <div class="intro-mini">
                <div class="intro-text">
                    <p>Services represent a component, a microservice or a piece of infrastructure youâ€™re monitoring
                        that you will create incidents for.</p>
                </div>
                <a href="#" class="intro-guide">
                    <div class="guide-logo">
                        <svg class="vcicon icon-info">
                            <use xlink:href="assets/vcicon/icons.svg#icon-info"></use>
                        </svg>
                    </div>
                    <p>What can I do with Services?</p>
                    <svg class="vcicon icon-go-to">
                        <use xlink:href="assets/vcicon/icons.svg#icon-go-to"></use>
                    </svg>
                </a>
            </div>

            <table class="vc-table">

                <thead>
                    <th class="no-seperate no-content"></th>
                    <th>
                        <span>Name</span>
                        <svg class="vcicon icon-unsort sort-btn">
                            <use xlink:href="assets/vcicon/icons.svg#icon-unsort"></use>
                        </svg>
                    </th>
                    <th>
                        <span>Description</span>
                    </th>
                    <th>
                        <span>Last incident</span>
                        <svg class="vcicon icon-unsort sort-btn">
                            <use xlink:href="assets/vcicon/icons.svg#icon-unsort"></use>
                        </svg>
                    </th>
                    <th>
                        <span>Open incidents</span>
                    </th>
                    <th class="no-seperate">
                        <span>Created on</span>
                        <svg class="vcicon icon-unsort sort-btn">
                            <use xlink:href="assets/vcicon/icons.svg#icon-unsort"></use>
                        </svg>
                    </th>
                    <th class="single-icon-action-col"></th>
                </thead>

                <tbody>
                    <tr *ngFor="let service of services">
                        <td class="status-tr-indicator" [ngClass]="getClassSatus(service.status)"></td>
                        <td>
                            <a href="service/{{service.id}}" class="primary">{{service.name}}</a>
                            <div style="margin-top: 3px;">
                                <span class="badge icon-badge" [ngClass]="getClassSatus(service.status)">
                                    <svg class="vcicon icon-incident">
                                        <use xlink:href="assets/vcicon/icons.svg#icon-incident"></use>
                                    </svg>
                                    <span>{{service.status}}</span>
                                </span>
                            </div>
                        </td>
                        <td>
                          {{service.description}}
                        </td>
                        <td>
                            <a href="/incident/{{service.last_incident_id}}" *ngIf="service.last_incident!=''">{{service.last_incident}}</a>
                            <span class="no-incident" *ngIf="service.last_incident==''">No incidents lately</span>
                        </td>
                        <td>
                            <div class="open-incident"[ngClass]="getClassNumber(service.triggered)" >
                                <span class="count">{{service.triggered}}</span>
                                <span>triggered</span>
                            </div>
                            <div class="open-incident" [ngClass]="getClassNumber(service.acknowledged)">
                                <span class="count">{{service.acknowledged}}</span>
                                <span>acknowledged</span>
                            </div>
                        </td>
                        <td>
                          {{service.created}}
                        </td>
                        <td>
                            <button type="button" class="btn icon-btn default" data-title="Menu" data-title-left>
                                <svg class="vcicon icon-menu">
                                    <use xlink:href="assets/vcicon/icons.svg#icon-menu"></use>
                                </svg>
                            </button>
                        </td>
                    </tr>
                </tbody>

            </table>

            <div class="pagination-complex">
                <div class="total-record-section">
                    <span>Total: {{services==null?0:services.length}}</span>
                </div>
                <ul class="pagination">
                    <li class="page-move disabled">
                        <svg class="vcicon icon-page-prev">
                            <use xlink:href="assets/vcicon/icons.svg#icon-page-prev"></use>
                        </svg>
                    </li>
                    <li class="page-number chosen">
                        <span>1</span>
                    </li>
                    <li class="page-number">
                        <span>2</span>
                    </li>
                    <li class="page-move">
                        <svg class="vcicon icon-page-next">
                            <use xlink:href="assets/vcicon/icons.svg#icon-page-next"></use>
                        </svg>
                    </li>
                </ul>
                <div class="show-record-section">
                    <span>Show:</span>
                    <div class="vc-select">
                        <select>
                            <option value="1" name="showing-select">5</option>
                            <option value="2" name="showing-select">10</option>
                            <option value="3" name="showing-select">20</option>
                            <option value="4" name="showing-select">30</option>
                            <option value="5" name="showing-select">50</option>
                        </select>
                        <svg class="vcicon icon-gr-expand">
                            <use xlink:href="assets/vcicon/icons.svg#icon-gr-expand"></use>
                        </svg>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
